(this["webpackJsonprest-front"]=this["webpackJsonprest-front"]||[]).push([[0],{15:function(e,t){e.exports={primary:"red",secondary:"blue",blanco:"white",negro:"black",sombra:"2px 2px #000"}},159:function(e,t,a){e.exports=a.p+"static/media/fondo.aa0f721c.jpg"},170:function(e,t,a){e.exports=a.p+"static/media/shop.e2f87ca5.jpg"},181:function(e,t,a){e.exports=a(212)},186:function(e,t,a){},20:function(e,t){e.exports={baseUrl:"http://localhost:4000"}},212:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(11),c=a.n(o),l=(a(186),a(60)),i=a(23),s=a(265),u=a(159),m=a.n(u),d={contenedor:{width:window.innerWidth,height:window.innerHeight,backgroundImage:"url(".concat(m.a,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"left",display:"flex",flexDirection:"column"},navBar:{flex:1},formulario:{flex:3,padding:"0rem 1rem"}},p=a(280),f=a(266),b=a(267),E=a(214),h=a(269),g=a(268),v=a(165),y=a.n(v),O=a(15),j=function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2),color:O.blanco,fontWeight:"bold"},title:{flexGrow:1,color:O.blanco,fontWeight:"bold",textShadow:O.sombra},button:{color:O.blanco,fontWeight:"bold"}}},w=a(22),x=a(288),D=a(289),N=a(284),k=a(138),C=function(e){try{localStorage.removeItem("rol"),e.push("/")}catch(t){console.log(t)}},T=function(e){var t=e.actions,a=e.history,n=r.a.useState(!1),o=Object(w.a)(n,2),c=o[0],l=o[1];return r.a.createElement(x.a,{ariaLabel:"SpeedDial example",icon:r.a.createElement(D.a,null),onClose:function(){l(!1)},onOpen:function(){l(!0)},open:c,direction:"left"},t&&t.map((function(e){return r.a.createElement(N.a,{icon:e.icon,key:e.name,tooltipTitle:e.name,onClick:function(){return a.push(e.link)}})})),r.a.createElement(N.a,{icon:r.a.createElement(k.a,null),tooltipTitle:"Salir",onClick:function(){return C(a)}}))},S=a(16),A={drawer:!1};var _=function(e){return function(t,a){try{console.log(e),t({type:"SET_DRAWER",payload:e})}catch(n){console.log(n)}}},R=a(12),P=Object(s.a)(j),W=function(e){var t=P(),a=e.color,n=e.title,o=e.actions,c=e.history,i=void 0===c?null:c,s=Object(R.b)(),u=Object(R.c)((function(e){return e.general.drawer}));return r.a.createElement("div",{className:t.root},!u&&r.a.createElement(f.a,{position:"static",color:a},r.a.createElement(b.a,null,r.a.createElement(p.a,{smUp:!0},r.a.createElement(g.a,{onClick:function(){return s(_(!u))},edge:"start",className:t.menuButton,color:"inherit","aria-label":"menu"},r.a.createElement(y.a,null))),r.a.createElement(E.a,{variant:"h4",className:t.title},n),r.a.createElement(p.a,{smDown:!0},localStorage.getItem("rol")?r.a.createElement(T,{actions:o,history:i}):r.a.createElement(r.a.Fragment,null,r.a.createElement(l.b,{to:"/login"},r.a.createElement(h.a,{color:"inherit",className:t.button},"Login")),r.a.createElement(l.b,{to:"/register"},r.a.createElement(h.a,{color:"inherit",className:t.button},"Register")))))))},U=a(282),M=a(285),q={drawer:{width:240,flexShrink:0},drawerPaper:{width:240,backgroundColor:"rgba(0,0,0,0.50)"},contenedorTitle:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",borderBottom:"solid 1px white",padding:"1rem 0rem"},avatar:{fontSize:"4rem"},title:{color:O.blanco,textShadow:O.sombra},items:{width:"100%",color:O.blanco,fontSize:"1.5rem",margin:"5px 0px",height:"2rem",cursor:"pointer","&:hover":{}},icon:{color:O.blanco}},I=a(140),L=Object(s.a)(q),F=function(e){var t=L(),a=e.opciones,n=void 0===a?[]:a,o=e.history,c=Object(R.b)(),l=Object(R.c)((function(e){return e.general.drawer}));return r.a.createElement(U.a,{className:t.drawer,variant:"temporary",classes:{paper:t.drawerPaper},open:l,onClose:function(){return c(_(!l))}},r.a.createElement("div",{className:t.contenedorTitle},r.a.createElement(M.a,{sizes:"large"},r.a.createElement(I.a,null)),r.a.createElement("h1",{className:t.title},"Shop")),n.length>0&&n.map((function(e){return r.a.createElement("div",{key:e.name,className:t.items,onClick:function(){return t=e.link,c(_(!l)),void o.push(t);var t}},r.a.createElement(g.a,{className:t.icon},e.icon),e.name)})),localStorage.getItem("rol")&&r.a.createElement("div",{className:t.items,onClick:function(){return function(e,t){c(_(!e)),C(t)}(l,o)}},r.a.createElement(g.a,null,r.a.createElement(k.a,{className:t.icon})),"Exit"))},G=a(156),z=a(272),B=a(149),V=a(150),H=a(151),Y=a(35),J=a(121),X=a(270),$=a(286),K=a(271),Q=function(e){return r.a.createElement("span",{style:{color:"red",fontStyle:"italic"}},e.children)},Z=function(e){var t=e.label,a=e.name,n=e.className,o=Object(J.a)(e,["label","name","className"]);return r.a.createElement(Y.b,{name:a},(function(e){var c=e.field;return r.a.createElement(X.a,{fullWidth:!0},r.a.createElement($.a,{className:n,htmlFor:a},t),r.a.createElement(K.a,Object.assign({id:a},o,c,{className:n})),r.a.createElement(Y.a,{name:a,component:Q}))}))},ee=a(279),te=a(287),ae=function(e){var t=e.name,a=e.label,n=e.options,o=e.handleChange,c=void 0===o?function(){console.log()}:o;return r.a.createElement("div",null,r.a.createElement(Y.b,{name:t,id:t},(function(e){var o=e.field;return r.a.createElement(X.a,{fullWidth:!0},r.a.createElement($.a,{id:t},a),r.a.createElement(ee.a,Object.assign({labelId:t,id:t,value:t},o),n.length>0&&n.map((function(e){return r.a.createElement(te.a,{value:e.key,onClick:function(){return c(e.key)}},e.key)}))))})),r.a.createElement(Y.a,{name:t,component:Q}))},ne=function(e){var t=e.control,a=Object(J.a)(e,["control"]);switch(t){case"inputMaterial":return r.a.createElement(Z,a);case"selectMaterial":return r.a.createElement(ae,a)}},re=a(21),oe=a(36),ce=function(e){return{contenedorFormulario:Object(oe.a)({flex:2,width:"100%",height:350,backgroundColor:"rgba(0,0,0,0.25)",marginBottom:"1rem",border:"solid 1px black",display:"flex",flexDirection:"column",alignItems:"center"},e.breakpoints.up("md"),{width:"40%",height:400,marginLeft:"auto",marginRight:"1rem"}),tituloFormulario:{fontSize:"2.5rem",color:O.blanco,textShadow:O.sombra},formulario:{width:"90%",height:"80%",display:"flex",flexDirection:"column",justifyContent:"space-around"},inputs:{color:O.blanco,fontSize:"1.5rem"},userBad:{color:"red",fontStyle:"italic"}}},le=a(19),ie=a.n(le),se=a(20),ue=function(e,t,a){return ie.a.post("".concat(se.baseUrl,"/login"),e).then((function(e){if(e.data){var a=e.data.rol;switch(localStorage.setItem("rol",a),a){case"admin":t.push("/admin");break;case"cliente":t.push("/shop");break;default:t.push("/")}}})).catch((function(e){a(!0)}))},me=Object(s.a)(ce),de={usuario:"",password:""},pe=re.a({usuario:re.b().required("El Usuario es Requerido"),password:re.b().required("La contrase\xf1a es requerida")}),fe=function(e){var t=e.history,a=Object(n.useState)(!1),o=Object(w.a)(a,2),c=o[0],l=o[1],i=Object(n.useState)(!1),s=Object(w.a)(i,2),u=s[0],m=s[1],d=me(),p=function(){l(!c)};return r.a.createElement("div",null,r.a.createElement("div",{className:d.contenedorFormulario},r.a.createElement("h1",{className:d.tituloFormulario},"Login"),u&&r.a.createElement("span",{className:d.userBad},"El usuario o la contrase\xf1a estan mal"),r.a.createElement(Y.d,{initialValues:de,validationSchema:pe,onSubmit:function(e,a){ue(e,t,m),a.resetForm()}},(function(e){return r.a.createElement(Y.c,{className:d.formulario},r.a.createElement(ne,{control:"inputMaterial",label:"Usuario",name:"usuario",type:"text",className:d.inputs,fullWidth:!0,endAdornment:r.a.createElement(z.a,{position:"end"},r.a.createElement(g.a,{className:d.inputs},r.a.createElement(B.a,null)))}),r.a.createElement(ne,{control:"inputMaterial",label:"Password",name:"password",type:c?"text":"password",className:d.inputs,fullWidth:!0,endAdornment:r.a.createElement(z.a,{position:"end"},r.a.createElement(g.a,{className:d.inputs,onClick:p},c?r.a.createElement(V.a,null):r.a.createElement(H.a,null)))}),r.a.createElement(h.a,{variant:"contained",fullWidth:!0,type:"submit",color:"primary"},"Login"))}))))},be=function(e,t){return ie.a.post("".concat(se.baseUrl,"/register"),e).then((function(e){e.data&&t.push("/login")})).catch((function(e){return console.log(e)}))},Ee=Object(s.a)(ce),he={usuario:"",password:"",nombre:"",apellido:""},ge=re.a({usuario:re.b().required("El Usuario es Requerido"),password:re.b().required("La contrase\xf1a es requerida"),nombre:re.b().required("El nombre es requerdio"),apellido:re.b().required("Los apellidos son requeridos")}),ve=function(e){var t=e.history,a=Object(n.useState)(!1),o=Object(w.a)(a,2),c=o[0],l=(o[1],Ee());return r.a.createElement("div",null,r.a.createElement("div",{className:l.contenedorFormulario},r.a.createElement("h1",{className:l.tituloFormulario},"Register"),r.a.createElement(Y.d,{initialValues:he,validationSchema:ge,onSubmit:function(e,a){be(e,t),a.resetForm()}},(function(e){return r.a.createElement(Y.c,{className:l.formulario},r.a.createElement(ne,{control:"inputMaterial",label:"Usuario",name:"usuario",type:"text",className:l.inputs,fullWidth:!0}),r.a.createElement(ne,{control:"inputMaterial",label:"Password",name:"password",type:c?"text":"password",className:l.inputs,fullWidth:!0}),r.a.createElement(ne,{control:"inputMaterial",label:"Nombre",name:"nombre",type:"text",className:l.inputs,fullWidth:!0}),r.a.createElement(ne,{control:"inputMaterial",label:"Apellidos",name:"apellido",type:"text",className:l.inputs,fullWidth:!0}),r.a.createElement(h.a,{variant:"contained",fullWidth:!0,type:"submit",color:"primary"},"Register"))}))))},ye=(a(55).SignalCellularNullRounded,function(e){var t=localStorage.getItem("rol");"admin"===t?e.push("/admin"):"cliente"===t?e.push("/shop"):e.push("/")}),Oe=Object(s.a)(d),je=[{name:"Login",icon:r.a.createElement(I.a,null),link:"/login"},{name:"Register",icon:r.a.createElement(G.a,null),link:"/register"}],we=function(e){var t=Oe(),a=e.history;return Object(n.useEffect)((function(){ye(a)}),[]),r.a.createElement("div",{className:t.contenedor},r.a.createElement("div",{className:t.navBar},r.a.createElement(W,{color:"transparent",title:"Shop"}),r.a.createElement(F,{history:a,opciones:je})),r.a.createElement("div",{className:t.formulario},r.a.createElement(i.a,{path:"/login",component:fe}),r.a.createElement(i.a,{path:"/register",component:ve})))},xe=a(78),De=a(169),Ne=a(9),ke=a.n(Ne),Ce=a(28),Te=a(52),Se={monedas:[]};var Ae={products:[]};var _e=function(){return function(){var e=Object(Ce.a)(ke.a.mark((function e(t){var a;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ie.a.get("".concat(se.baseUrl,"/products"));case 3:(a=e.sent)&&t({type:"GET_PRODUCTS",payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},Re={departments:[]};var Pe=function(){return function(){var e=Object(Ce.a)(ke.a.mark((function e(t){var a;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ie.a.get("".concat(se.baseUrl,"/departments"));case 3:(a=e.sent)&&t({type:"GET_DEPARTMENTS",payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},We={categories:[]};var Ue=function(){return function(){var e=Object(Ce.a)(ke.a.mark((function e(t){var a;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ie.a.get("".concat(se.baseUrl,"/categories"));case 3:(a=e.sent)&&t({type:"GET_CATEGORIES",payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},Me={shops:[]};var qe=Object(xe.c)({monedas:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_MONEDAS":return Object(S.a)({},e,{monedas:t.payload});case"ADD_MONEDA":return Object(S.a)({},e,{monedas:[].concat(Object(Te.a)(e.monedas),[t.payload])});case"DELETE_MONEDA":return Object(S.a)({},e,{monedas:t.payload});default:return e}},general:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DRAWER":return Object(S.a)({},e,{drawer:t.payload});default:return e}},products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_PRODUCT":return Object(S.a)({},e,{products:[].concat(Object(Te.a)(e.products),[t.payload])});case"GET_PRODUCTS":case"EDIT_PRODUCT":case"DELETE_PRODUCT":return Object(S.a)({},e,{products:t.payload});default:return e}},departments:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_DEPARTMENT":return Object(S.a)({},e,{departments:[].concat(Object(Te.a)(e.departments),[t.payload])});case"GET_DEPARTMENTS":return Object(S.a)({},e,{departments:t.payload});case"EDIT_DEPARTMENT":return console.log(t.payload),Object(S.a)({},e,{departments:t.payload});case"DELETE_DEPARTMENT":return Object(S.a)({},e,{departments:t.payload});default:return e}},categories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_CATEGORY":return Object(S.a)({},e,{categories:[].concat(Object(Te.a)(e.categories),[t.payload])});case"GET_CATEGORIES":case"EDIT_CATEGORY":case"DELETE_DEPARTMENT":return Object(S.a)({},e,{categories:t.payload});default:return e}},shops:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_CART":return Object(S.a)({},e,{shops:[].concat(Object(Te.a)(e.shops),[t.payload])});case"UPDATE_CART":case"DELETE_CART":return Object(S.a)({},e,{shops:t.payload});default:return e}}}),Ie=window._REDUX_DEVTOOLS_EXTENSION_COMPOSE||xe.d;var Le=function(e){return{container:Object(oe.a)({width:window.innerWidth,height:window.innerHeight,backgorundColor:"red",display:"flex"},e.breakpoints.down("sm"),{flexDirection:"column"}),tableContainer:{flex:2,padding:"1rem"},formContainer:{flex:1,padding:"1rem"}}},Fe=a(274),Ge=a(278),ze=a(277),Be=a(273),Ve=a(275),He=a(283),Ye=a(276),Je=a(155),Xe=a(154),$e=a(213),Ke=function(e){return{container:Object(oe.a)({maxHeight:440},e.breakpoints.down("sm"),{maxHeight:200}),header:{backgroundColor:"blue",color:"white",fontWeight:"bold"}}},Qe=Object(s.a)(Ke),Ze=function(e){var t=Qe(),a=e.rows,n=e.columns,o=e.handleDelete,c=e.handleEdit,l=r.a.useState(0),i=Object(w.a)(l,2),s=i[0],u=i[1],m=r.a.useState(10),d=Object(w.a)(m,2),p=d[0],f=d[1];return r.a.createElement($e.a,{elevation:5},r.a.createElement(Be.a,{className:t.container},r.a.createElement(Fe.a,{stickyHeader:!0,"aria-label":"sticky table"},r.a.createElement(Ve.a,{className:t.header},r.a.createElement(Ye.a,null,n.map((function(e){return r.a.createElement(ze.a,{key:e.id,align:e.align,style:{minWidth:e.minWidth},className:t.header},e.label)})))),r.a.createElement(Ge.a,null,a.length>0?a.slice(s*p,s*p+p).map((function(e){return r.a.createElement(Ye.a,{hover:!0,role:"checkbox",tabIndex:-1,key:e._id},n.map((function(t){var a=e[t.id];return r.a.createElement(ze.a,{key:t.id,align:t.align},"acciones"===t.id?r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{onClick:function(){return c(e._id)}},r.a.createElement(Je.a,null)),r.a.createElement(g.a,{onClick:function(){return o(e._id)}},r.a.createElement(Xe.a,null))):a)})))})):"No hay Datos para mostrar"))),r.a.createElement(He.a,{rowsPerPageOptions:[5,10,25],component:"div",count:a.length,rowsPerPage:p,page:s,onChangePage:function(e,t){u(t)},onChangeRowsPerPage:function(e){f(+e.target.value),u(0)}}))},et={contenedorFormulario:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",height:"300px"},formulario:{width:"100%",height:"80%",backgorundColor:"red",display:"flex",flexDirection:"column",justifyContent:"space-between"},input:{width:"90%"}},tt=Object(s.a)(et),at=function(e){var t=tt(),a=e.initialValues,n=e.validationSchema,o=e.onSubmit,c=e.opciones,l=e.title,i=e.buton;return r.a.createElement($e.a,{className:t.contenedorFormulario,elevation:5},r.a.createElement("h1",null,l),r.a.createElement(Y.d,{initialValues:a,validationSchema:n,onSubmit:o},(function(e){return r.a.createElement(Y.c,{className:t.formulario},c.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ne,{key:e.name,control:e.control,name:e.name,label:e.label,type:e.type,options:e.options,handleChange:e.handleChange,fullWidth:!0}))})),r.a.createElement(h.a,{variant:"contained",fullWidth:!0,type:"submit",color:"primary"},i))})))},nt=Object(s.a)(Le),rt=[{id:"name",label:"Producto",minWidth:50},{id:"cost",label:"Costo",minWidth:50},{id:"department",label:"Departamento",minWidth:50},{id:"category",label:"Categoria",minWidth:50},{id:"acciones",label:"Acciones",minWidth:50}],ot={name:"",cost:"",department:"",category:""},ct=re.a({name:re.b().required("La categoria es requerido"),cost:re.b().required("El valor es requerido"),department:re.b().required("El departamento es requerido"),category:re.b().required("La categoria es requerida")}),lt=function(){var e=nt(),t=Object(R.b)(),a=Object(R.c)((function(e){return e.products.products})),o=Object(R.c)((function(e){return e.departments.departments})),c=Object(R.c)((function(e){return e.categories.categories})),l=Object(n.useState)(!1),i=Object(w.a)(l,2),s=i[0],u=i[1],m=Object(n.useState)(null),d=Object(w.a)(m,2),p=d[0],f=d[1],b=Object(n.useState)([]),E=Object(w.a)(b,2),h=E[0],g=E[1],v=Object(n.useState)([]),y=Object(w.a)(v,2),O=y[0],j=y[1];Object(n.useEffect)((function(){t(_e()),D()}),[]);var x=function(e){var t=[];return e&&e.forEach((function(e){var a={};a.key=e.name,a.value=e._id,t.push(a)})),t},D=function(){g(x(o))},N=function(e){var t=c.filter((function(t){return t.department===e}));j(x(t))},k=[{control:"inputMaterial",name:"name",label:"Producto",type:"text"},{control:"inputMaterial",name:"cost",label:"Costo",type:"numbre"},{control:"selectMaterial",name:"department",label:"Departamento",options:h,handleChange:N},{control:"selectMaterial",name:"category",label:"Categoria",options:O}];return r.a.createElement("div",{className:e.container},r.a.createElement("div",{className:e.tableContainer},r.a.createElement(Ze,{columns:rt,rows:a,handleEdit:function(e){var t=a.filter((function(t){return t._id===e}));t&&(N(t[0].department),ot.name=t[0].name,ot.cost=t[0].cost,ot.department=t[0].department,ot.category=t[0].category,f(e),u(!0))},handleDelete:function(e){t(function(e){return function(){var t=Object(Ce.a)(ke.a.mark((function t(a,n){var r,o;return ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ie.a.delete("".concat(se.baseUrl,"/product/").concat(e));case 3:t.sent&&(r=n().products.products,o=r.filter((function(t){return t._id!==e})),a({type:"DELETE_PRODUCT",payload:o})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,a){return t.apply(this,arguments)}}()}(e))}})),r.a.createElement("div",{className:e.formContainer},r.a.createElement(at,{opciones:k,initialValues:ot,validationSchema:ct,onSubmit:function(e,a){t(s?function(e,t){return function(){var a=Object(Ce.a)(ke.a.mark((function a(n,r){var o,c,l;return ke.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ie.a.put("".concat(se.baseUrl,"/product/").concat(t),e);case 3:(o=a.sent)&&(c=r().products.products,l=c.map((function(e){return e._id===t&&(e.name=o.data.name,e.cost=o.data.cost,e.department=o.data.department,e.category=o.data.category),e})),n({type:"EDIT_PRODUCT",payload:l})),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.log(a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e,t){return a.apply(this,arguments)}}()}(e,p):function(e){return function(){var t=Object(Ce.a)(ke.a.mark((function t(a,n){var r;return ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ie.a.post("".concat(se.baseUrl,"/product"),e);case 3:(r=t.sent)&&a({type:"ADD_PRODUCT",payload:r.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,a){return t.apply(this,arguments)}}()}(e)),ot.name="",ot.cost="",ot.department="",ot.category="",u(!1),a.resetForm()},title:s?"Editar Producto":"Agregar Producto",buton:s?"Editar":"Agregar"})))},it=Object(s.a)(Le),st=[{id:"name",label:"Categorias",minWidth:50},{id:"department",label:"Departamento",minWidth:50},{id:"acciones",label:"Acciones",minWidth:50}],ut={name:"",department:""},mt=re.a({name:re.b().required("La categoria es requerido"),department:re.b().required("El departamento es requerido")}),dt=function(){var e=it(),t=Object(R.b)(),a=Object(R.c)((function(e){return e.categories.categories})),o=Object(R.c)((function(e){return e.departments.departments})),c=Object(n.useState)(!1),l=Object(w.a)(c,2),i=l[0],s=l[1],u=Object(n.useState)(null),m=Object(w.a)(u,2),d=m[0],p=m[1],f=Object(n.useState)([]),b=Object(w.a)(f,2),E=b[0],h=b[1],g=[{control:"inputMaterial",name:"name",label:"Categoria",type:"text"},{control:"selectMaterial",name:"department",label:"Departamento",options:E}];Object(n.useEffect)((function(){t(Ue()),function(){var e=[];o.forEach((function(t){var a={};a.key=t.name,a.value=t._id,e.push(a)})),h(e)}()}),[]);return r.a.createElement("div",{className:e.container},r.a.createElement("div",{className:e.tableContainer},r.a.createElement(Ze,{columns:st,rows:a,handleEdit:function(e){var t=a.filter((function(t){return t._id===e}));t&&(ut.name=t[0].name,ut.department=t[0].department,p(e),s(!0))},handleDelete:function(e){t(function(e){return function(){var t=Object(Ce.a)(ke.a.mark((function t(a,n){var r,o;return ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ie.a.delete("".concat(se.baseUrl,"/category/").concat(e));case 3:t.sent&&(r=n().categories.categories,o=r.filter((function(t){return t._id!==e})),a({type:"DELETE_DEPARTMENT",payload:o})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,a){return t.apply(this,arguments)}}()}(e))}})),r.a.createElement("div",{className:e.formContainer},r.a.createElement(at,{opciones:g,initialValues:ut,validationSchema:mt,onSubmit:function(e,a){t(i?function(e,t){return function(){var a=Object(Ce.a)(ke.a.mark((function a(n,r){var o,c,l;return ke.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ie.a.put("".concat(se.baseUrl,"/category/").concat(t),e);case 3:(o=a.sent)&&(c=r().categories.categories,l=c.map((function(e){return e._id===t&&(e.name=o.data.name,e.department=o.data.department),e})),n({type:"EDIT_CATEGORY",payload:l})),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.log(a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e,t){return a.apply(this,arguments)}}()}(e,d):function(e){return function(){var t=Object(Ce.a)(ke.a.mark((function t(a,n){var r;return ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ie.a.post("".concat(se.baseUrl,"/category"),e);case 3:(r=t.sent)&&a({type:"ADD_CATEGORY",payload:r.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,a){return t.apply(this,arguments)}}()}(e)),ut.name="",ut.department="",s(!1),a.resetForm()},title:i?"Editar Categoria":"Agregar Categoria",buton:i?"Editar":"Agregar"})))},pt=Object(s.a)(Le),ft=[{id:"name",label:"Departamento",minWidth:50},{id:"acciones",label:"Acciones",minWidth:50}],bt={name:""},Et=re.a({name:re.b().required("El departamento es requerido")}),ht=[{control:"inputMaterial",name:"name",label:"Departamento",type:"text"}],gt=function(){var e=pt(),t=Object(R.b)(),a=Object(R.c)((function(e){return e.departments.departments})),o=Object(n.useState)(!1),c=Object(w.a)(o,2),l=c[0],i=c[1],s=Object(n.useState)(null),u=Object(w.a)(s,2),m=u[0],d=u[1];Object(n.useEffect)((function(){t(Pe())}),[]);return r.a.createElement("div",{className:e.container},r.a.createElement("div",{className:e.tableContainer},r.a.createElement(Ze,{columns:ft,rows:a,handleEdit:function(e){var t=a.filter((function(t){return t._id===e}));t&&(bt.name=t[0].name,d(e),i(!0))},handleDelete:function(e){t(function(e){return function(){var t=Object(Ce.a)(ke.a.mark((function t(a,n){var r,o;return ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ie.a.delete("".concat(se.baseUrl,"/department/").concat(e));case 3:t.sent&&(r=n().departments.departments,o=r.filter((function(t){return t._id!==e})),a({type:"DELETE_DEPARTMENT",payload:o})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,a){return t.apply(this,arguments)}}()}(e))}})),r.a.createElement("div",{className:e.formContainer},r.a.createElement(at,{opciones:ht,initialValues:bt,validationSchema:Et,onSubmit:function(e,a){t(l?function(e,t){return function(){var a=Object(Ce.a)(ke.a.mark((function a(n,r){var o,c,l;return ke.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ie.a.put("".concat(se.baseUrl,"/department/").concat(t),e);case 3:(o=a.sent)&&(c=r().departments.departments,l=c.map((function(e){return e._id===t&&(e.name=o.data.name),e})),n({type:"EDIT_DEPARTMENT",payload:l})),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.log(a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e,t){return a.apply(this,arguments)}}()}(e,m):function(e){return function(){var t=Object(Ce.a)(ke.a.mark((function t(a){var n;return ke.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ie.a.post("".concat(se.baseUrl,"/department"),e);case 3:(n=t.sent)&&a({type:"ADD_DEPARTMENT",payload:n.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(e)),bt.name="",i(!1),a.resetForm()},title:l?"Editar Departamento":"Agregar Departamento",buton:l?"Editar":"Agregar"})))},vt=a(152),yt=a(153),Ot=a(157),jt=[{icon:r.a.createElement(vt.a,null),name:"Productos",link:"/admin/products"},{icon:r.a.createElement(yt.a,null),name:"Categor\xedas",link:"/admin/categories"},{icon:r.a.createElement(Ot.a,null),name:"Departamentos",link:"/admin/department"}],wt=function(e){var t=e.history,a=Object(R.b)();return Object(n.useEffect)((function(){ye(t),a(Pe()),a(Ue())}),[]),r.a.createElement("div",null,r.a.createElement(W,{color:"primary",title:"Shop Admin",actions:jt,history:t}),r.a.createElement(F,{opciones:jt,history:t}),r.a.createElement("div",null,r.a.createElement(i.a,{path:"/admin/products",component:lt}),r.a.createElement(i.a,{path:"/admin/categories",component:dt}),r.a.createElement(i.a,{path:"/admin/department",component:gt})))},xt=a(170),Dt=a.n(xt),Nt=function(e){return{contenedor:{width:window.innerWidth,height:window.innerHeight,backgroundImage:"url(".concat(Dt.a,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgorundPosition:"left",display:"flex",flexDirection:"column"},contenido:Object(oe.a)({width:"100%",height:"100%",display:"flex",paddiing:"1rem"},e.breakpoints.down("sm"),{flexDirection:"column"}),productosContenedor:{flex:2},carritoContenedor:{flex:1,padding:"1rem"}}},kt=function(e){return{contenedor:Object(oe.a)({display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"1rem",padding:"1rem"},e.breakpoints.down("sm"),{gridTemplateColumns:"1fr"})}},Ct=a(158),Tt={contenedor:{display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",backgroundColor:"rgba(0,0,0,0.50)",height:150},title:{color:O.blanco,textShadow:O.sombra},subtitle:{fontSize:16,color:O.blanco,textAlign:"left",fontWeight:"bold"},datos:{fontSize:14,color:O.blanco,textAlign:"left",fontWeight:"bold"},buton:{fontSize:16,fontWeight:"bold"},icono:{marginLeft:10}},St=Object(s.a)(Tt),At=function(e){var t=e.producto,a=St(),n=Object(R.b)();return r.a.createElement($e.a,{elevation:5,className:a.contenedor},r.a.createElement("h1",{className:a.title},t.name),r.a.createElement("div",null,r.a.createElement("span",{className:a.subtitle},"Departamento: "),r.a.createElement("span",{className:a.datos},t.department)),r.a.createElement("div",null,r.a.createElement("span",{className:a.subtitle},"Categoria: "),r.a.createElement("span",{className:a.datos},t.category)),r.a.createElement(h.a,{onClick:function(){return n((e=t,function(t,a){var n=a().shops;n.shops.filter((function(t){return t.name===e.name})).length>0?t({type:"UPDATE_CART",payload:n.shops.map((function(t){return t.name===e.name&&t.cantidad++,t}))}):(e.cantidad=1,t({type:"ADD_CART",payload:e}))}));var e},className:a.buton,variant:"contained",color:"primary",fullWidth:!0,endIcon:r.a.createElement(Ct.a,{className:a.icono})},t.cost))},_t=Object(s.a)(kt),Rt=function(){var e=Object(R.c)((function(e){return e.products.products})),t=_t();return r.a.createElement("div",{className:t.contenedor},e.length>0&&e.map((function(e){return r.a.createElement(At,{producto:e})})))},Pt=function(e){return{contenedor:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:"rgba(0,0,0,0.50)",borderRadius:5},title:{width:"100%",textAlign:"center",padding:"1rem 0rem",color:O.blanco,tetxShadow:O.sombra,backgroundColor:"rgba(0,0,0,0.80)"},cabecera:Object(oe.a)({width:"100%",display:"flex",justifyContent:"space-around",color:O.blanco,marginTop:5,padding:"1rem 0rem",borderBottom:"solid 1px white"},e.breakpoints.down("sm"),{fontSize:14}),contenedorProductos:{width:"100%",maxHeight:250,overflowY:"scroll"},icono:{color:"red",cursor:"pointer"},total:{color:O.blanco}}},Wt=Object(s.a)(Pt),Ut=function(){var e=Wt(),t=Object(R.b)(),a=Object(R.c)((function(e){return e.shops.shops}));return r.a.createElement($e.a,{elevation:5,className:e.contenedor},r.a.createElement("h1",{className:e.title},"Carrito Compra"),r.a.createElement("div",{className:e.cabecera},r.a.createElement("h3",null,"Cantidad"),r.a.createElement("h3",null,"Producto"),r.a.createElement("h3",null,"Precio"),r.a.createElement("h3",null,"Total"),r.a.createElement("h3",null,"Eliminar")),r.a.createElement("div",{className:e.contenedorProductos},a.length>0?a.map((function(a){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:e.cabecera},r.a.createElement("h3",null,a.name),r.a.createElement("h3",null,a.cantidad),r.a.createElement("h3",null,a.cost),r.a.createElement("h3",null,a.cantidad*a.cost),r.a.createElement("h3",{onClick:function(){return t((e=a.name,function(t,a){t({type:"DELETE_CART",payload:a().shops.shops.filter((function(t){return t.name!==e}))})}));var e}},r.a.createElement(Xe.a,{className:e.icono}))))})):r.a.createElement("h2",{className:e.total},"No hay Productos")),r.a.createElement("h1",{className:e.total},"Total: $",a.reduce((function(e,t){return e+t.cost*t.cantidad}),0)))},Mt=Object(s.a)(Nt),qt=function(e){var t=e.history,a=Mt(),o=Object(R.b)();return Object(n.useEffect)((function(){ye(t),o(_e())}),[]),r.a.createElement("div",{className:a.contenedor},r.a.createElement(W,{color:"primary",history:t,title:"Shop"}),r.a.createElement(F,{history:t}),r.a.createElement("div",{className:a.contenido},r.a.createElement("div",{className:a.productosContenedor},r.a.createElement(Rt,null)),r.a.createElement("div",{className:a.carritoContenedor},r.a.createElement(Ut,null))))};var It=function(){var e=Object(xe.e)(qe,Ie(Object(xe.a)(De.a)));return r.a.createElement(R.a,{store:e},r.a.createElement(l.a,null,r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"/admin",component:wt}),r.a.createElement(i.a,{path:"/shop",component:qt}),r.a.createElement(i.a,{path:"/",component:we}))))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(It,null)),document.getElementById("root"))}},[[181,1,2]]]);
//# sourceMappingURL=main.a70f4358.chunk.js.map